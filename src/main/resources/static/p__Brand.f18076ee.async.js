(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[236],{15517:function(Se,se,t){"use strict";t.r(se),t.d(se,{default:function(){return Ae}});var Ue=t(57663),F=t(71577),we=t(34792),x=t(48086),O=t(3182),Oe=t(43185),G=t(11324),B=t(2824),pe=t(94043),E=t.n(pe),v=t(67294),me=t(67265),ve=t(12712),he=t(49101),Be=t(90631),C=t(5029),Le=t(20228),fe=t(11382),Ie=t(71194),je=t(5644),ze=t(62350),L=t(75443),Te=t(58024),ge=t(39144),Re=t(13062),de=t(71230),Pe=t(89032),oe=t(15746),$e=t(49111),le=t(19650),ke=t(88983),h=t(47933),Ve=t(47673),j=t(4107),We=t(74379),y=t(38648),ue=t(11849),Ge=t(9715),m=t(86585),xe=t(57396),Fe=t(5127),Ee=t(84391),e=t(85893),Ce=function(a){var ce="image/jpg,image/jpeg,image/gif,image/png,image/bmp,application/pdf,text/html,text/htm,text/plain,video/avi,video/mp4,video/wmv,video/wma,video/avi,audio/mpeg,application/vnd.ms-excel,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation",N="qsv,qlv,rar,zip,7z,tar",Y=m.Z.useForm(),S=(0,B.Z)(Y,1),g=S[0],I=(0,v.useState)(!1),A=(0,B.Z)(I,2),D=A[0],M=A[1],z=(0,v.useState)({}),T=(0,B.Z)(z,2),d=T[0],R=T[1],P=(0,v.useState)(""),$=(0,B.Z)(P,2),U=$[0],k=$[1],b=v.useState([]),K=(0,B.Z)(b,2),f=K[0],w=K[1],X=(0,v.useState)(""),Z=(0,B.Z)(X,2),H=Z[0],J=Z[1],V=function(){var r=(0,O.Z)(E().mark(function n(i){var u,l,p,ie;return E().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,g.validateFields();case 3:if(u=s.sent,!u.errorFields){s.next=7;break}return x.default.error("\u6570\u636E\u8F93\u5165\u4E0D\u5B8C\u6574"),s.abrupt("return");case 7:if(u.type!=="\u5176\u5B83"){s.next=11;break}if(!(!u.otherType||!u.otherType.trim())){s.next=11;break}return x.default.error("\u8BF7\u8F93\u5165 \u7C7B\u578B"),s.abrupt("return");case 11:if(u.category!=="\u5176\u5B83"){s.next=15;break}if(!(!u.otherCategory||!u.otherCategory.trim())){s.next=15;break}return x.default.error("\u8BF7\u8F93\u5165 \u7C7B\u522B"),s.abrupt("return");case 15:s.next=22;break;case 17:return s.prev=17,s.t0=s.catch(0),x.default.error("\u6570\u636E\u9A8C\u8BC1\u5931\u8D25"),console.log(s.t0),s.abrupt("return");case 22:if(l=(0,ue.Z)((0,ue.Z)({},g.getFieldsValue()),{},{status:i,fileUrl:f.length===0?null:f[0].response}),l.type==="\u5176\u5B83"&&(l.type=l.otherType.trim()),l.category==="\u5176\u5B83"&&(l.category=l.otherCategory.trim()),M(!0),l.prizeList=d.prizeList,l.subsidizeList=d.subsidizeList,s.prev=28,p=null,!a.editObj.id){s.next=37;break}return l.id=a.editObj.id,s.next=34,(0,C.Sw)(l);case 34:p=s.sent,s.next=40;break;case 37:return s.next=39,(0,C.Y2)(l);case 39:p=s.sent;case 40:M(!1),p?(i===1?y.default.success({message:"\u63D0\u4EA4\u6210\u529F",description:"\u8BF7\u6253\u5370\u63A8\u8350\u8868\uFF0C\u5B8C\u6210\u63A8\u8350\u5355\u4F4D\u76D6\u7AE0\u540E\u4E0A\u4F20\u3002",duration:0}):i===0&&x.default.success("\u8349\u7A3F\u4FDD\u5B58\u6210\u529F"),g.resetFields(),a.onSaveFinish()):y.default.error({message:"\u63D0\u4EA4\u5931\u8D25."}),s.next=48;break;case 44:s.prev=44,s.t1=s.catch(28),M(!1),y.default.error({message:"\u63D0\u4EA4\u5931\u8D25.",description:s.t1===null||s.t1===void 0||(ie=s.t1.info)===null||ie===void 0?void 0:ie.message});case 48:case"end":return s.stop()}},n,null,[[0,17],[28,44]])}));return function(i){return r.apply(this,arguments)}}(),Q=function(){var r=(0,O.Z)(E().mark(function n(){var i,u;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return M(!0),p.prev=1,p.next=4,(0,C.Pu)(d.id);case 4:i=p.sent,M(!1),i?(status==0?y.default.success({message:"\u8BB0\u5F55\u56DE\u9000\u6210\u529F - "+d.name,duration:0}):y.default.error({message:"\u63D0\u4EA4\u5931\u8D25. \u72B6\u6001"+status}),g.resetFields(),a.onSaveFinish()):y.default.error({message:"\u63D0\u4EA4\u5931\u8D25."}),p.next=12;break;case 9:p.prev=9,p.t0=p.catch(1),y.default.error({message:"\u63D0\u4EA4\u5931\u8D25.",description:p.t0===null||p.t0===void 0||(u=p.t0.info)===null||u===void 0?void 0:u.message});case 12:case"end":return p.stop()}},n,null,[[1,9]])}));return function(){return r.apply(this,arguments)}}(),q=function(){return(0,e.jsxs)(m.Z,{"data-inspector-line":"139","data-inspector-column":"6","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",style:{margin:7},labelCol:{span:6},wrapperCol:{span:14},form:g,scrollToFirstError:!0,children:[(0,e.jsx)(m.Z.Item,{"data-inspector-line":"145","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",name:"name",label:"\u54C1\u724C\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u54C1\u724C\u540D\u79F0",whitespace:!0}],children:(0,e.jsx)(j.Z,{"data-inspector-line":"149","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",style:{width:400},disabled:a.viewMode})}),(0,e.jsx)(m.Z.Item,{"data-inspector-line":"151","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",name:"type",label:"\u7C7B\u578B",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7C7B\u578B"}],children:(0,e.jsx)(h.ZP.Group,{"data-inspector-line":"152","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",onChange:function(i){return k(i.target.value)},value:U,disabled:a.viewMode,children:(0,e.jsxs)(le.Z,{"data-inspector-line":"156","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",direction:"vertical",children:[(0,e.jsx)(h.ZP,{"data-inspector-line":"157","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",value:"\u7535\u89C6\u79D1\u666E\u9891\u9053\u6216\u680F\u76EE",children:"\u7535\u89C6\u79D1\u666E\u9891\u9053\u6216\u680F\u76EE"}),(0,e.jsx)(h.ZP,{"data-inspector-line":"158","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",value:"\u5E7F\u64AD\u79D1\u666E\u9891\u6BB5\u6216\u680F\u76EE",children:"\u5E7F\u64AD\u79D1\u666E\u9891\u6BB5\u6216\u680F\u76EE"}),(0,e.jsx)(h.ZP,{"data-inspector-line":"159","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",value:"\u79D1\u666E\u62A5\u520A\u6216\u4E13\u680F",children:"\u79D1\u666E\u62A5\u520A\u6216\u4E13\u680F"}),(0,e.jsx)(h.ZP,{"data-inspector-line":"160","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",value:"\u79D1\u666E\u7F51\u7AD9",children:"\u79D1\u666E\u7F51\u7AD9"}),(0,e.jsx)(h.ZP,{"data-inspector-line":"161","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",value:"\u79D1\u666E\u65B0\u5A92\u4F53",children:"\u79D1\u666E\u65B0\u5A92\u4F53"}),(0,e.jsx)(h.ZP,{"data-inspector-line":"162","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",value:"\u5065\u5EB7\u79D1\u666E\u516C\u76CA\u54C1\u724C\u6D3B\u52A8\u6216\u8BB2\u5EA7",children:"\u5065\u5EB7\u79D1\u666E\u516C\u76CA\u54C1\u724C\u6D3B\u52A8\u6216\u8BB2\u5EA7"}),(0,e.jsxs)(h.ZP,{"data-inspector-line":"163","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",value:"\u5176\u5B83",children:["\u5176\u5B83",(0,e.jsx)(m.Z.Item,{"data-inspector-line":"165","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",name:"otherType",children:(0,e.jsx)(j.Z,{"data-inspector-line":"166","data-inspector-column":"18","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",style:{width:400},disabled:a.viewMode})})]})]})})}),(0,e.jsx)(m.Z.Item,{"data-inspector-line":"174","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",name:"category",label:"\u5F52\u5C5E\u7C7B\u522B",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5F52\u5C5E\u7C7B\u522B"}],children:(0,e.jsx)(h.ZP.Group,{"data-inspector-line":"175","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",onChange:function(i){return J(i.target.value)},value:H,disabled:a.viewMode,children:(0,e.jsxs)(le.Z,{"data-inspector-line":"179","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",direction:"vertical",children:[(0,e.jsx)(h.ZP,{"data-inspector-line":"180","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",value:"\u673A\u6784",children:"\u673A\u6784"}),(0,e.jsx)(h.ZP,{"data-inspector-line":"181","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",value:"\u79D1\u5BA4",children:"\u79D1\u5BA4"}),(0,e.jsx)(h.ZP,{"data-inspector-line":"182","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",value:"\u4E2A\u4EBA",children:"\u4E2A\u4EBA"}),(0,e.jsxs)(h.ZP,{"data-inspector-line":"183","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",value:"\u5176\u5B83",children:["\u5176\u5B83",(0,e.jsx)(m.Z.Item,{"data-inspector-line":"185","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",name:"otherCategory",children:(0,e.jsx)(j.Z,{"data-inspector-line":"186","data-inspector-column":"18","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",style:{width:400},disabled:a.viewMode})})]})]})})}),(0,e.jsx)(m.Z.Item,{"data-inspector-line":"192","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",name:"company",label:"\u6240\u5728\u5355\u4F4D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6240\u5728\u5355\u4F4D",whitespace:!0}],children:(0,e.jsx)(j.Z,{"data-inspector-line":"196","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",style:{width:400},disabled:a.viewMode})}),(0,e.jsx)(m.Z.Item,{"data-inspector-line":"198","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",name:"contactPerson",label:"\u8054\u7CFB\u4EBA",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u8054\u7CFB\u4EBA",whitespace:!0}],children:(0,e.jsx)(j.Z,{"data-inspector-line":"202","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",style:{width:400},disabled:a.viewMode})}),(0,e.jsx)(m.Z.Item,{"data-inspector-line":"204","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",name:"phone",label:"\u624B\u673A",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u673A",whitespace:!0}],children:(0,e.jsx)(j.Z,{"data-inspector-line":"208","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",style:{width:400},disabled:a.viewMode})}),(0,e.jsx)(m.Z.Item,{"data-inspector-line":"210","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",name:"email",label:"\u7535\u5B50\u90AE\u7BB1",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7535\u5B50\u90AE\u7BB1",whitespace:!0}],children:(0,e.jsx)(j.Z,{"data-inspector-line":"214","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",style:{width:400},disabled:a.viewMode})}),(0,e.jsx)(m.Z.Item,{"data-inspector-line":"216","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",name:"address",label:"\u901A\u4FE1\u5730\u5740",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u901A\u4FE1\u5730\u5740",whitespace:!0}],children:(0,e.jsx)(j.Z,{"data-inspector-line":"220","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",style:{width:400},disabled:a.viewMode})}),_(),ee(),(0,e.jsx)(de.Z,{"data-inspector-line":"224","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",children:(0,e.jsx)(oe.Z,{"data-inspector-line":"225","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",span:24,children:(0,e.jsx)(xe.Z,{"data-inspector-line":"226","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",prizeList:d.prizeList?d.prizeList:[],onChangePrize:function(i){return d.prizeList=i},onDeletePrize:function(i){return d.prizeList=i},disabled:a.viewMode})})}),(0,e.jsx)(de.Z,{"data-inspector-line":"233","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",children:(0,e.jsx)(oe.Z,{"data-inspector-line":"234","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",span:24,children:(0,e.jsx)(Fe.Z,{"data-inspector-line":"235","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",subsidizeList:d.subsidizeList?d.subsidizeList:[],onChangeSubsidize:function(i){return d.subsidizeList=i},onDeleteSubsidize:function(i){return d.subsidizeList=i},disabled:a.viewMode})})}),(0,e.jsxs)(ge.Z,{"data-inspector-line":"243","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",title:"\u7533\u62A5\u9879\u76EE\u60C5\u51B5",bordered:!1,style:{width:"100%"},children:[(0,e.jsx)(m.Z.Item,{"data-inspector-line":"244","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",name:"projectBrief",label:"\u9879\u76EE\u7EFC\u8FF0",labelCol:4,wrapperCol:20,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9879\u76EE\u7EFC\u8FF0",whitespace:!0}],children:(0,e.jsx)(j.Z.TextArea,{"data-inspector-line":"246","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",showCount:!0,rows:6,maxLength:500,placeholder:"\u8BF7\u9AD8\u5EA6\u6982\u62EC\u7533\u62A5\u9879\u76EE\u54C1\u724C\u7684\u5185\u5BB9\u3001\u4EAE\u70B9\u7279\u8272\u53CA\u793E\u4F1A\u5F71\u54CD\u7B49",disabled:a.viewMode})}),(0,e.jsx)(m.Z.Item,{"data-inspector-line":"253","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",name:"projectDesc",label:"\u9879\u76EE\u4ECB\u7ECD",labelCol:4,wrapperCol:20,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9879\u76EE\u4ECB\u7ECD",whitespace:!0}],children:(0,e.jsx)(j.Z.TextArea,{"data-inspector-line":"255","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",showCount:!0,rows:14,maxLength:2e3,placeholder:"\u8BF7\u8BE6\u7EC6\u8BF4\u660E\u79D1\u666E\u54C1\u724C\u7684\u80CC\u666F\u3001\u5185\u5BB9\u3001\u6210\u679C\u5B9E\u65BD\u3001\u5E94\u7528\u548C\u666E\u53CA\u60C5\u51B5\uFF0C\u4EA7\u751F\u7684\u793E\u4F1A\u6548\u76CA\u53CA\u8D21\u732E\u7B49",disabled:a.viewMode})})]})]})},_=function(){if(!a.viewMode)return(0,e.jsx)(m.Z.Item,{"data-inspector-line":"273","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",name:"attachment",label:"\u76F8\u5173\u4F50\u8BC1\u6750\u6599",extra:"\u4E0A\u4F20\u6587\u4EF6\u5927\u5C0F\u4E0D\u8D85\u8FC7600M\u3002",children:(0,e.jsx)(G.Z,{"data-inspector-line":"275","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",action:C.k2,defaultFileList:f,headers:{Authorization:"Basic "+sessionStorage.getItem("auth")},onChange:te,onRemove:ne,beforeUpload:re,children:(0,e.jsx)(F.Z,{"data-inspector-line":"283","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",icon:(0,e.jsx)(Ee.Z,{"data-inspector-line":"283","data-inspector-column":"26","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx"}),children:"\u4E0A\u4F20"})})})},ee=function(){if(a.viewMode)return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(m.Z.Item,{"data-inspector-line":"297","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",name:"worksLink",label:"\u6750\u6599",children:W()}),(0,e.jsx)(m.Z.Item,{"data-inspector-line":"302","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",name:"worksLink",label:"\u63A8\u8350\u8868",children:ae()})]})},W=function(){if(d!=null&&d.fileUrl){var n=d.fileUrl.replace(/\\/g,"/").split("/WorksFiles/");return(0,e.jsx)("a",{"data-inspector-line":"316","data-inspector-column":"13","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",href:"http://workscollect.shbxjk.cn/WorksFiles/"+n[1],target:"_blank",children:"\u70B9\u51FB\u67E5\u770B"})}return(0,e.jsx)(e.Fragment,{})},ae=function(){if(d!=null&&d.reccFormFileUrl){var n=d.reccFormFileUrl.replace(/\\/g,"/").split("/WorksReccForm/");return(0,e.jsx)("a",{"data-inspector-line":"325","data-inspector-column":"13","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",href:"http://workscollect.shbxjk.cn/WorksReccForm/"+n[1],target:"_blank",children:"\u70B9\u51FB\u67E5\u770B"})}return(0,e.jsx)("h4",{"data-inspector-line":"327","data-inspector-column":"11","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",style:{color:"red"},children:"\u7533\u62A5\u5355\u4F4D\u672A\u63D0\u4EA4\u63A8\u8350\u8868"})},te=function(n){var i=n.file;console.log("handleUploadChange"),i.status==="done"?f.push(i):i.status==="error"&&x.default.error("\u6587\u4EF6\u4E0A\u4F20\u9519\u8BEF.")},ne=function(n){console.log("handleUploadRemove");var i=f.indexOf(n),u=f.slice();u.splice(i,1),w(u);var l=(0,C.XI)(n.response)},re=function(n){return console.log("handleBeforeUpload"),f.length>0?(x.default.error("\u53EA\u80FD\u4E0A\u4F20\u4E00\u4E2A\u6587\u4EF6."),G.Z.LIST_IGNORE):!0};(0,v.useEffect)(function(){if(a.editObj!==d){if(g.resetFields(),a.editObj.type!="\u7535\u89C6\u79D1\u666E\u9891\u9053\u6216\u680F\u76EE"&&a.editObj.type!="\u5E7F\u64AD\u79D1\u666E\u9891\u6BB5\u6216\u680F\u76EE"&&a.editObj.type!="\u79D1\u666E\u62A5\u520A\u6216\u4E13\u680F"&&a.editObj.type!="\u79D1\u666E\u7F51\u7AD9"&&a.editObj.type!="\u79D1\u666E\u65B0\u5A92\u4F53"&&a.editObj.type!="\u5065\u5EB7\u79D1\u666E\u516C\u76CA\u54C1\u724C\u6D3B\u52A8\u6216\u8BB2\u5EA7"&&(a.editObj.otherType=a.editObj.type,a.editObj.type="\u5176\u5B83"),a.editObj.category!="\u673A\u6784"&&a.editObj.category!="\u79D1\u5BA4"&&a.editObj.category!="\u4E2A\u4EBA"&&(a.editObj.otherCategory=a.editObj.category,a.editObj.category="\u5176\u5B83"),g.setFieldsValue(a.editObj),a.editObj.fileUrl){var r=a.editObj.fileUrl.split("\\"),n=r[r.length-1],i={uid:"1",name:n,status:"done",response:a.editObj.fileUrl};f[0]=i}else f.length>0&&w([]);R(a.editObj)}});var c=function(){g.resetFields(),R({}),a.onCancel()},o=function(){return a.viewMode?[(0,e.jsx)(F.Z,{"data-inspector-line":"423","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",onClick:a.onCancel,children:"\u5173\u95ED"},"cancel"),(0,e.jsx)(L.Z,{"data-inspector-line":"426","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",onConfirm:function(){return Q()},title:"\u786E\u8BA4\u9000\u56DE\u8BE5\u8BB0\u5F55\u7ED9\u539F\u6709\u7533\u62A5\u5E10\u6237\u4E48\uFF1F",children:(0,e.jsx)(F.Z,{"data-inspector-line":"430","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",children:"\u9000\u56DE"},"cancel")},"return")]:[(0,e.jsx)(L.Z,{"data-inspector-line":"439","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",onConfirm:function(){return c()},title:"\u786E\u8BA4\u653E\u5F03\u5DF2\u7F16\u8F91\u8FC7\u7684\u5185\u5BB9\u4E48\uFF1F",children:(0,e.jsx)(F.Z,{"data-inspector-line":"443","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",children:"\u53D6\u6D88"},"cancel")},"cancel"),(0,e.jsx)(L.Z,{"data-inspector-line":"447","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",onConfirm:function(){return V(0)},title:"\u786E\u8BA4\u4FDD\u5B58\u5F53\u524D\u5185\u5BB9\u4E3A\u8349\u7A3F\uFF1F",children:(0,e.jsx)(F.Z,{"data-inspector-line":"451","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",type:"primary",children:"\u4FDD\u5B58"},"saveDraft")},"saveDraft"),(0,e.jsx)(L.Z,{"data-inspector-line":"455","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",onConfirm:function(){return V(1)},title:"\u786E\u8BA4\u63D0\u4EA4\u5F53\u524D\u8BB0\u5F55\uFF1F\u63D0\u4EA4\u540E\u6570\u636E\u4E0D\u53EF\u518D\u4FEE\u6539\u3002",children:(0,e.jsx)(F.Z,{"data-inspector-line":"459","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",type:"primary",children:"\u63D0\u4EA4"},"print")},"print")]};return(0,e.jsx)(fe.Z,{"data-inspector-line":"469","data-inspector-column":"4","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",spinning:D,children:(0,e.jsx)(je.Z,{"data-inspector-line":"470","data-inspector-column":"6","data-inspector-relative-path":"src\\pages\\Brand\\component\\BrandModal.jsx",title:a.modalTitle,getContainer:!1,centered:!0,destroyOnClose:!0,maskClosable:!1,visible:a.visible,closable:!1,footer:o(),width:1e3,children:q()})})},ye=Ce,Me=t(21010),be=t(74478),Ze=function(){var a=(0,v.useRef)(),ce=(0,v.useState)("\u6DFB\u52A0\u54C1\u724C"),N=(0,B.Z)(ce,2),Y=N[0],S=N[1],g=(0,v.useState)({}),I=(0,B.Z)(g,2),A=I[0],D=I[1],M=(0,v.useState)(!1),z=(0,B.Z)(M,2),T=z[0],d=z[1],R=(0,v.useState)(!1),P=(0,B.Z)(R,2),$=P[0],U=P[1],k=(0,Me.tT)("@@initialState"),b=k.initialState,K=k.setInitialState,f=(0,v.useState)(!1),w=(0,B.Z)(f,2),X=w[0],Z=w[1],H=(0,v.useRef)(),J=[{title:"ID",dataIndex:"id",width:100,hideInTable:!0,hideInSearch:!0},{title:"\u540D\u79F0",dataIndex:"name",width:200},{title:"\u7C7B\u578B",dataIndex:"type",width:200,hideInSearch:!0},{title:"\u5F52\u5C5E\u7C7B\u522B",dataIndex:"category",width:200,hideInSearch:!0},{title:"\u64CD\u4F5C",width:180,key:"option",valueType:"option",render:function(o,r){return V(r)}}],V=function(o){var r;return((r=b.currentUser)===null||r===void 0?void 0:r.type)!==3?(0,e.jsx)("a",{"data-inspector-line":"56","data-inspector-column":"13","data-inspector-relative-path":"src\\pages\\Brand\\index.jsx",onClick:function(){return _(o)},children:"\u67E5\u770B"},"primary"):o.status===0?(0,e.jsx)("a",{"data-inspector-line":"58","data-inspector-column":"13","data-inspector-relative-path":"src\\pages\\Brand\\index.jsx",onClick:function(){return q(o)},children:"\u4FEE\u6539\u8349\u7A3F"},"primary"):[(0,e.jsx)("a",{"data-inspector-line":"60","data-inspector-column":"6","data-inspector-relative-path":"src\\pages\\Brand\\index.jsx",href:"http://wcserver.shbxjk.cn"+C.co+"brand/"+o.id,children:"\u6253\u5370\u63A8\u8350\u8868"},"primary"),(0,e.jsx)("a",{"data-inspector-line":"62","data-inspector-column":"6","data-inspector-relative-path":"src\\pages\\Brand\\index.jsx",id:"upload_link",onClick:function(i){return Q(i,o)},children:"\u4E0A\u4F20\u63A8\u8350\u8868"},"primary"),(0,e.jsx)(G.Z,{"data-inspector-line":"63","data-inspector-column":"6","data-inspector-relative-path":"src\\pages\\Brand\\index.jsx",ref:H},"uploadreccform")]},Q=function(o,r){D(r),Z(!0)},q=function(o){D(o),S("\u7F16\u8F91\u8349\u7A3F"),U(!1),d(!0)},_=function(o){D(o),S("\u79D1\u666E\u54C1\u724C - "+o.name),U(!0),d(!0)},ee=function(){var c=(0,O.Z)(E().mark(function o(){var r,n,i;return E().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(((r=b.currentUser)===null||r===void 0?void 0:r.type)===3){l.next=3;break}return x.default.error("\u8BF7\u4F7F\u7528\u7533\u62A5\u5355\u4F4D\u5E10\u53F7\u63D0\u4EA4"),l.abrupt("return");case 3:return l.next=5,W({current:1,pageSize:1});case 5:if(i=l.sent,!((i==null||(n=i.data)===null||n===void 0?void 0:n.length)>0)){l.next=9;break}return x.default.error("\u6BCF\u4E2A\u5E10\u53F7\u53EA\u53EF\u4EE5\u7533\u62A5\u4E00\u4E2A\u8BB0\u5F55."),l.abrupt("return");case 9:S("\u6DFB\u52A0\u79D1\u666E\u54C1\u724C"),D({}),U(!1),d(!0);case 13:case"end":return l.stop()}},o)}));return function(){return c.apply(this,arguments)}}(),W=function(){var c=(0,O.Z)(E().mark(function o(r){var n;return E().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,C.jN)(r);case 2:return n=u.sent,u.abrupt("return",n);case 4:case"end":return u.stop()}},o)}));return function(r){return c.apply(this,arguments)}}(),ae=function(){a.current.reload(),d(!1)},te=function(){Z(!1),a.current.reload()},ne=function(){var o,r,n;if(((o=b.currentUser)===null||o===void 0?void 0:o.type)===3)return[(0,e.jsxs)(F.Z,{"data-inspector-line":"122","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\Brand\\index.jsx",type:"primary",onClick:function(){return ee()},children:[(0,e.jsx)(he.Z,{"data-inspector-line":"123","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\Brand\\index.jsx"})," \u6DFB\u52A0\u54C1\u724C"]},"add")];if(((r=b.currentUser)===null||r===void 0?void 0:r.type)===1)return[(0,e.jsxs)(F.Z,{"data-inspector-line":"128","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\Brand\\index.jsx",type:"primary",disabled:((n=b.currentUser)===null||n===void 0?void 0:n.type)!==1,onClick:function(){return re()},children:[(0,e.jsx)(Be.Z,{"data-inspector-line":"131","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\Brand\\index.jsx"})," \u5BFC\u51FA"]},"export")]},re=function(){var o="http://wcserver.shbxjk.cn"+C.zY,r=document.createElement("a"),n=document.createEvent("MouseEvents");r.style.display="none",r.href=o,document.body.append(r),n.initEvent("click",!1,!1),r.dispatchEvent(n),document.body.removeChild(r)};return(0,e.jsxs)(me.ZP,{"data-inspector-line":"149","data-inspector-column":"4","data-inspector-relative-path":"src\\pages\\Brand\\index.jsx",children:[(0,e.jsx)(ve.ZP,{"data-inspector-line":"150","data-inspector-column":"6","data-inspector-relative-path":"src\\pages\\Brand\\index.jsx",rowKey:"id",actionRef:a,search:{labelWidth:120,collapsed:!1},toolBarRender:ne,request:function(o){return W(o)},columns:J}),(0,e.jsx)(ye,{"data-inspector-line":"160","data-inspector-column":"6","data-inspector-relative-path":"src\\pages\\Brand\\index.jsx",onCancel:function(){return d(!1)},closeModal:function(){return d(!1)},onSaveFinish:ae,modalTitle:Y,editObj:A,viewMode:$,visible:T}),(0,e.jsx)(be.Z,{"data-inspector-line":"168","data-inspector-column":"6","data-inspector-relative-path":"src\\pages\\Brand\\index.jsx",onCancel:function(){return Z(!1)},closeModal:function(){return Z(!1)},onUploadFinish:function(){return te()},editObj:A,modalTitle:A.name,objectType:"brand",visible:X})]})},Ae=Ze}}]);
