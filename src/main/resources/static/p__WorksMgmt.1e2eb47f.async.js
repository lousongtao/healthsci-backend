(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[584],{22203:function(Le,ae,a){"use strict";a.r(ae),a.d(ae,{default:function(){return Ae}});var Te=a(57663),y=a(71577),Re=a(34792),B=a(48086),O=a(3182),Ue=a(43185),_=a(11324),$e=a(43358),t=a(90290),W=a(2824),ve=a(94043),k=a.n(ve),ge=a(67265),je=a(12712),M=a(67294),Z=a(5029),xe=a(49101),Me=a(90631),Fe=a(21010),Pe=a(20228),fe=a(11382),Ge=a(71194),re=a(5644),Ne=a(62350),Y=a(75443),Ke=a(58024),se=a(39144),Xe=a(77883),ne=a(48835),Ye=a(53400),ie=a(94168),He=a(47673),F=a(4107),Je=a(74379),S=a(38648),oe=a(11849),Qe=a(9715),n=a(86585),ke=a(84391),le=a(57396),ue=a(5127),e=a(85893),Ce=function(o){var G="image/jpg,image/jpeg,image/gif,image/png,image/bmp,application/pdf,text/html,text/htm,text/plain,video/avi,video/mp4,video/wmv,video/wma,video/avi,audio/mpeg,application/vnd.ms-excel,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation",H="qsv,qlv,rar,zip,7z,tar",b=n.Z.useForm(),N=(0,W.Z)(b,1),E=N[0],c=function(){var C=(0,O.Z)(k().mark(function h(u){var z,D,P,K;return k().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,E.validateFields();case 3:if(z=i.sent,!z.errorFields){i.next=7;break}return B.default.error("\u6570\u636E\u8F93\u5165\u4E0D\u5B8C\u6574"),i.abrupt("return");case 7:i.next=13;break;case 9:return i.prev=9,i.t0=i.catch(0),B.default.error("\u6570\u636E\u9A8C\u8BC1\u5931\u8D25"),i.abrupt("return");case 13:if(!(u===1&&d.length===0)){i.next=16;break}return B.default.error("\u60A8\u8FD8\u6CA1\u6709\u4E0A\u4F20\u4F5C\u54C1, \u65E0\u6CD5\u63D0\u4EA4\u6570\u636E\u8FDB\u5165\u7CFB\u7EDF"),i.abrupt("return");case 16:if(D=(0,oe.Z)((0,oe.Z)({},E.getFieldsValue()),{},{status:u,fileUrl:d.length===0?null:d[0].response}),I(!0),D.prizeList=p.prizeList,D.subsidizeList=p.subsidizeList,i.prev=20,P=null,!o.editObj.id){i.next=29;break}return D.id=o.editObj.id,i.next=26,(0,Z.T9)(D);case 26:P=i.sent,i.next=32;break;case 29:return i.next=31,(0,Z.eI)(D);case 31:P=i.sent;case 32:I(!1),P?(u===1?S.default.success({message:"\u4F5C\u54C1\u63D0\u4EA4\u6210\u529F",description:"\u8BF7\u6253\u5370\u63A8\u8350\u8868\uFF0C\u5B8C\u6210\u63A8\u8350\u5355\u4F4D\u76D6\u7AE0\u540E\u4E0A\u4F20\u3002",duration:0}):u===0&&B.default.success("\u8349\u7A3F\u4FDD\u5B58\u6210\u529F"),E.resetFields(),x([]),o.onSaveFinish()):S.default.error({message:"\u4F5C\u54C1\u63D0\u4EA4\u5931\u8D25."}),i.next=40;break;case 36:i.prev=36,i.t1=i.catch(20),I(!1),S.default.error({message:"\u4F5C\u54C1\u63D0\u4EA4\u5931\u8D25.",description:i.t1===null||i.t1===void 0||(K=i.t1.info)===null||K===void 0?void 0:K.message});case 40:case"end":return i.stop()}},h,null,[[0,9],[20,36]])}));return function(u){return C.apply(this,arguments)}}(),w=M.useState(!1),L=(0,W.Z)(w,2),T=L[0],I=L[1],V=M.useState([]),R=(0,W.Z)(V,2),d=R[0],x=R[1],g=M.useState({}),A=(0,W.Z)(g,2),p=A[0],f=A[1],J=function(){return(0,e.jsxs)(n.Z,{"data-inspector-line":"108","data-inspector-column":"6","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",style:{margin:7},labelCol:{span:6},wrapperCol:{span:14},form:E,scrollToFirstError:!0,children:[(0,e.jsx)(n.Z.Item,{"data-inspector-line":"114","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",name:"title",label:"\u6807\u9898",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898",whitespace:!0}],children:(0,e.jsx)(F.Z,{"data-inspector-line":"118","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",style:{width:400}})}),(0,e.jsx)(n.Z.Item,{"data-inspector-line":"120","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",name:"type",label:"\u7C7B\u522B",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7C7B\u522B"}],children:(0,e.jsxs)(t.Z,{"data-inspector-line":"121","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",style:{width:400},children:[(0,e.jsxs)(t.Z.OptGroup,{"data-inspector-line":"122","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",label:"\u56FE\u6587\u7C7B",children:[(0,e.jsx)(t.Z.Option,{"data-inspector-line":"123","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",value:11,children:"\u79D1\u666E\u6587\u7AE0"},11),(0,e.jsx)(t.Z.Option,{"data-inspector-line":"124","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",value:12,children:"\u6F2B\u753B"},12),(0,e.jsx)(t.Z.Option,{"data-inspector-line":"125","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",value:13,children:"\u6D77\u62A5\u6298\u9875"},13),(0,e.jsx)(t.Z.Option,{"data-inspector-line":"126","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",value:14,children:"\u5176\u5B83"},14)]},1),(0,e.jsx)(t.Z.OptGroup,{"data-inspector-line":"128","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",label:"\u56FE\u4E66\u7C7B",children:(0,e.jsx)(t.Z.Option,{"data-inspector-line":"129","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",value:41,children:"\u56FE\u4E66\u7C7B"},41)},4),(0,e.jsxs)(t.Z.OptGroup,{"data-inspector-line":"131","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",label:"\u97F3\u9891\u7C7B",children:[(0,e.jsx)(t.Z.Option,{"data-inspector-line":"132","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",value:21,children:"\u4E13\u9898\u97F3\u9891"},21),(0,e.jsx)(t.Z.Option,{"data-inspector-line":"133","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",value:22,children:"\u5E7F\u64AD\u5267"},22),(0,e.jsx)(t.Z.Option,{"data-inspector-line":"134","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",value:23,children:"\u6709\u58F0\u4E66"},23),(0,e.jsx)(t.Z.Option,{"data-inspector-line":"135","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",value:24,children:"\u5176\u4ED6"},24)]},2),(0,e.jsxs)(t.Z.OptGroup,{"data-inspector-line":"137","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",label:"\u89C6\u9891\u7C7B",children:[(0,e.jsx)(t.Z.Option,{"data-inspector-line":"138","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",value:31,children:"\u5355\u96C6\u4F5C\u54C1 - \u77ED\u89C6\u9891(\u5C0F\u4E8E10\u5206\u949F)"},31),(0,e.jsx)(t.Z.Option,{"data-inspector-line":"139","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",value:32,children:"\u5355\u96C6\u4F5C\u54C1 - \u957F\u89C6\u9891(\u5927\u4E8E10\u5206\u949F)"},32),(0,e.jsx)(t.Z.Option,{"data-inspector-line":"140","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",value:33,children:"\u7CFB\u5217\u4F5C\u54C1 - \u77ED\u89C6\u9891(\u5C0F\u4E8E10\u5206\u949F)"},33),(0,e.jsx)(t.Z.Option,{"data-inspector-line":"141","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",value:34,children:"\u7CFB\u5217\u4F5C\u54C1 - \u957F\u89C6\u9891(\u5927\u4E8E10\u5206\u949F)"},34)]},3)]})}),(0,e.jsx)(n.Z.Item,{"data-inspector-line":"145","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",name:"poster",label:"\u4F5C\u8005",extra:"\u53EF\u586B\u4E2A\u4EBA\u6216\u56E2\u961F\uFF0C\u5982\u82E5\u4F5C\u54C1\u83B7\u5956\uFF0C\u8BE5\u680F\u4FE1\u606F\u5C06\u4F5C\u4E3A\u83B7\u5956\u5BF9\u8C61\u5448\u73B0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4F5C\u8005",whitespace:!0}],children:(0,e.jsx)(F.Z,{"data-inspector-line":"150","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",style:{width:200}})}),(0,e.jsx)(n.Z.Item,{"data-inspector-line":"153","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",name:"vendor",label:"\u5236\u4F5C\u5355\u4F4D",children:(0,e.jsx)(F.Z,{"data-inspector-line":"156","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",style:{width:200}})}),(0,e.jsx)(n.Z.Item,{"data-inspector-line":"168","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",name:"mediaName",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u520A\u64AD\u5A92\u4F53"}],label:"\u520A\u64AD\u5A92\u4F53/\u51FA\u7248\u793E",children:(0,e.jsx)(F.Z,{"data-inspector-line":"172","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",style:{width:400}})}),(0,e.jsx)(n.Z.Item,{"data-inspector-line":"174","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",name:"subMediaName",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7248\u9762/\u680F\u76EE/ISBN\u7F16\u53F7"}],label:"\u7248\u9762/\u680F\u76EE/ISBN\u7F16\u53F7",children:(0,e.jsx)(F.Z,{"data-inspector-line":"178","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",style:{width:400}})}),(0,e.jsx)(n.Z.Item,{"data-inspector-line":"180","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",name:"mediaPlayDate",extra:"\u9996\u6B21\u520A\u64AD\u4E8E2022\u5E74\u5185\u7684\u4F5C\u54C1",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9996\u6B21\u520A\u64AD/\u520A\u767B/\u51FA\u7248\u65F6\u95F4"}],label:"\u9996\u6B21\u520A\u64AD/\u520A\u767B/\u51FA\u7248\u65F6\u95F4",children:(0,e.jsx)(ie.Z,{"data-inspector-line":"185","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",disabledDate:function(u){return u.isAfter("2023-01-01")||u.isBefore("2022-01-01")},placeholder:"\u520A\u64AD\u65F6\u95F4"})}),(0,e.jsx)(n.Z.Item,{"data-inspector-line":"189","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",name:"mediaPlayTimes",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6700\u9AD8\u9605\u8BFB/\u64AD\u653E\u91CF(\u4E07)"}],label:"\u6700\u9AD8\u9605\u8BFB/\u64AD\u653E\u91CF/\u53D1\u884C\u91CF(\u4E07)",children:(0,e.jsx)(ne.Z,{"data-inspector-line":"193","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",placeholder:"\u64AD\u653E\u91CF"})}),(0,e.jsx)(n.Z.Item,{"data-inspector-line":"199","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",name:"mediaLink",label:"\u4F5C\u54C1\u94FE\u63A5",extra:"\u5982\u4E3A\u7CFB\u5217\u4F5C\u54C1\uFF0C\u8BF7\u9009\u53D6\u6709\u4EE3\u8868\u6027\u7684\u4E00\u4E2A\u4F5C\u54C1\u4E0A\u4F20\u94FE\u63A5",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4F5C\u54C1\u94FE\u63A5"}],children:(0,e.jsx)(F.Z,{"data-inspector-line":"204","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",style:{width:400}})}),(0,e.jsx)(n.Z.Item,{"data-inspector-line":"206","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",name:"attachment",label:"\u76F8\u5173\u4F50\u8BC1\u6750\u6599",extra:"\u4E0A\u4F20\u6587\u4EF6\u5927\u5C0F\u4E0D\u8D85\u8FC7600M\u3002",children:(0,e.jsx)(_.Z,{"data-inspector-line":"208","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",action:Z.k2,defaultFileList:d,headers:{Authorization:"Basic "+sessionStorage.getItem("auth")},onChange:ee,onRemove:Q,beforeUpload:U,children:(0,e.jsx)(y.Z,{"data-inspector-line":"216","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",icon:(0,e.jsx)(ke.Z,{"data-inspector-line":"216","data-inspector-column":"26","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx"}),children:"\u4E0A\u4F20"})})}),(0,e.jsx)(le.Z,{"data-inspector-line":"219","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",prizeList:p.prizeList?p.prizeList:[],onChangePrize:function(u){return p.prizeList=u},onDeletePrize:function(u){return p.prizeList=u}}),(0,e.jsx)(ue.Z,{"data-inspector-line":"224","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",subsidizeList:p.subsidizeList?p.subsidizeList:[],onChangeSubsidize:function(u){return p.subsidizeList=u},onDeleteSubsidize:function(u){return p.subsidizeList=u}}),(0,e.jsxs)(se.Z,{"data-inspector-line":"230","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",title:"\u7533\u62A5\u9879\u76EE\u60C5\u51B5",bordered:!1,style:{width:"100%"},children:[(0,e.jsx)(n.Z.Item,{"data-inspector-line":"231","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",name:"projectBrief",label:"\u9879\u76EE\u7EFC\u8FF0",labelCol:4,wrapperCol:20,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9879\u76EE\u7EFC\u8FF0",whitespace:!0}],children:(0,e.jsx)(F.Z.TextArea,{"data-inspector-line":"233","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",showCount:!0,rows:6,maxLength:500,placeholder:"\u8BF7\u9AD8\u5EA6\u6982\u62EC\u7533\u62A5\u4F5C\u54C1\u7684\u5185\u5BB9\u3001\u4EAE\u70B9\u7279\u8272\u53CA\u793E\u4F1A\u5F71\u54CD\u7B49",disabled:o.viewMode})}),(0,e.jsx)(n.Z.Item,{"data-inspector-line":"240","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",name:"projectDesc",label:"\u9879\u76EE\u4ECB\u7ECD",labelCol:4,wrapperCol:20,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9879\u76EE\u4ECB\u7ECD",whitespace:!0}],children:(0,e.jsx)(F.Z.TextArea,{"data-inspector-line":"242","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",showCount:!0,rows:14,maxLength:2e3,placeholder:"\u8BF7\u8BE6\u7EC6\u4ECB\u7ECD\u79D1\u666E\u4F5C\u54C1\u4ECB\u7ECD\uFF0C\u6210\u679C\u5B9E\u65BD\u3001\u5E94\u7528\u548C\u666E\u53CA\u60C5\u51B5\uFF0C\u4EA7\u751F\u7684\u793E\u4F1A\u6548\u76CA\u53CA\u8D21\u732E\u7B49",disabled:o.viewMode})})]})]})};(0,M.useEffect)(function(){if(o.editObj!==p){if(E.resetFields(),E.setFieldsValue(o.editObj),o.editObj.fileUrl){var C=o.editObj.fileUrl.split("\\"),h=C[C.length-1],u={uid:"1",name:h,status:"done",response:o.editObj.fileUrl};d[0]=u}else d.length>0&&x([]);f(o.editObj)}});var ee=function(h){var u=h.file;u.status==="done"?d.push(u):u.status==="error"&&B.default.error("\u6587\u4EF6\u4E0A\u4F20\u9519\u8BEF.")},Q=function(h){var u=d.indexOf(h),z=d.slice();z.splice(u,1),x(z);var D=(0,Z.XI)(h.response)},U=function(h){return d.length>0?(B.default.error("\u53EA\u80FD\u4E0A\u4F20\u4E00\u4E2A\u6587\u4EF6."),_.Z.LIST_IGNORE):!0},$=function(){if(d&&d.length>0){var h;if(d[0].response!==((h=o.editObj)===null||h===void 0?void 0:h.fileUrl)){B.default.warn("\u8BF7\u624B\u52A8\u5220\u9664\u5DF2\u4E0A\u4F20\u7684\u6587\u4EF6, \u518D\u5173\u95ED\u6B64\u7A97\u53E3.");return}}E.resetFields(),f({}),o.onCancel()};return(0,e.jsx)(fe.Z,{"data-inspector-line":"335","data-inspector-column":"4","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",spinning:T,children:(0,e.jsx)(re.Z,{"data-inspector-line":"336","data-inspector-column":"6","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",title:o.modalTitle,getContainer:!1,centered:!0,destroyOnClose:!0,maskClosable:!1,visible:o.visible,closable:!1,footer:[(0,e.jsx)(Y.Z,{"data-inspector-line":"345","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",onConfirm:function(){return $()},title:"\u786E\u8BA4\u653E\u5F03\u5DF2\u7F16\u8F91\u8FC7\u7684\u5185\u5BB9\u4E48\uFF1F",children:(0,e.jsx)(y.Z,{"data-inspector-line":"349","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",children:"\u53D6\u6D88"},"cancel")},"cancel"),(0,e.jsx)(Y.Z,{"data-inspector-line":"353","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",onConfirm:function(){return c(0)},title:"\u786E\u8BA4\u4FDD\u5B58\u5F53\u524D\u5185\u5BB9\u4E3A\u8349\u7A3F\uFF1F",children:(0,e.jsx)(y.Z,{"data-inspector-line":"357","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",type:"primary",children:"\u4FDD\u5B58"},"saveDraft")},"saveDraft"),(0,e.jsx)(Y.Z,{"data-inspector-line":"361","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",onConfirm:function(){return c(1)},title:"\u786E\u8BA4\u63D0\u4EA4\u8BE5\u4F5C\u54C1\uFF1F\u63D0\u4EA4\u540E\u6570\u636E\u4E0D\u53EF\u518D\u4FEE\u6539\u3002",children:(0,e.jsx)(y.Z,{"data-inspector-line":"365","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\WorksModal.jsx",type:"primary",children:"\u63D0\u4EA4"},"print")},"print")],width:1e3,children:J()})})},We=Ce,Ee=a(30381),ce=a.n(Ee),Ze=a(74478),be=function(o){var G=n.Z.useForm(),H=(0,W.Z)(G,1),b=H[0],N=M.useState({}),E=(0,W.Z)(N,2),c=E[0],w=E[1],L=function(){return(0,e.jsxs)(n.Z,{"data-inspector-line":"29","data-inspector-column":"6","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",style:{margin:7},labelCol:{span:6},wrapperCol:{span:14},form:b,scrollToFirstError:!0,children:[(0,e.jsx)(n.Z.Item,{"data-inspector-line":"35","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",name:"title",label:"\u6807\u9898",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898",whitespace:!0}],children:(0,e.jsx)(F.Z,{"data-inspector-line":"39","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",style:{width:400},disabled:!0})}),(0,e.jsx)(n.Z.Item,{"data-inspector-line":"41","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",name:"poster",label:"\u4F5C\u8005",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4F5C\u8005",whitespace:!0}],children:(0,e.jsx)(F.Z,{"data-inspector-line":"45","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",style:{width:200},disabled:!0})}),(0,e.jsx)(n.Z.Item,{"data-inspector-line":"47","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",name:"vendor",label:"\u5236\u4F5C\u5355\u4F4D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5236\u4F5C\u5355\u4F4D",whitespace:!0}],children:(0,e.jsx)(F.Z,{"data-inspector-line":"51","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",style:{width:200},disabled:!0})}),(0,e.jsx)(n.Z.Item,{"data-inspector-line":"53","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",name:"type",label:"\u7C7B\u522B",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7C7B\u522B"}],children:(0,e.jsxs)(t.Z,{"data-inspector-line":"54","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",style:{width:400},disabled:!0,children:[(0,e.jsxs)(t.Z.OptGroup,{"data-inspector-line":"55","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",label:"\u56FE\u6587\u7C7B",children:[(0,e.jsx)(t.Z.Option,{"data-inspector-line":"56","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",value:11,children:"\u79D1\u666E\u6587\u7AE0"},11),(0,e.jsx)(t.Z.Option,{"data-inspector-line":"57","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",value:12,children:"\u6F2B\u753B"},12),(0,e.jsx)(t.Z.Option,{"data-inspector-line":"58","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",value:13,children:"\u6D77\u62A5\u6298\u9875"},13),(0,e.jsx)(t.Z.Option,{"data-inspector-line":"59","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",value:14,children:"\u5176\u5B83"},14)]},1),(0,e.jsx)(t.Z.OptGroup,{"data-inspector-line":"61","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",label:"\u56FE\u4E66\u7C7B",children:(0,e.jsx)(t.Z.Option,{"data-inspector-line":"62","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",value:41,children:"\u56FE\u4E66\u7C7B"},41)},1),(0,e.jsxs)(t.Z.OptGroup,{"data-inspector-line":"64","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",label:"\u97F3\u9891\u7C7B",children:[(0,e.jsx)(t.Z.Option,{"data-inspector-line":"65","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",value:21,children:"\u4E13\u9898\u97F3\u9891"},21),(0,e.jsx)(t.Z.Option,{"data-inspector-line":"66","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",value:22,children:"\u5E7F\u64AD\u5267"},22),(0,e.jsx)(t.Z.Option,{"data-inspector-line":"67","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",value:23,children:"\u6709\u58F0\u4E66"},23),(0,e.jsx)(t.Z.Option,{"data-inspector-line":"68","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",value:24,children:"\u5176\u4ED6"},24)]},2),(0,e.jsxs)(t.Z.OptGroup,{"data-inspector-line":"70","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",label:"\u89C6\u9891\u7C7B",children:[(0,e.jsx)(t.Z.Option,{"data-inspector-line":"71","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",value:31,children:"\u5355\u96C6\u4F5C\u54C1 - \u77ED\u89C6\u9891(\u5C0F\u4E8E10\u5206\u949F)"},31),(0,e.jsx)(t.Z.Option,{"data-inspector-line":"72","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",value:32,children:"\u5355\u96C6\u4F5C\u54C1 - \u957F\u89C6\u9891(\u5927\u4E8E10\u5206\u949F)"},32),(0,e.jsx)(t.Z.Option,{"data-inspector-line":"73","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",value:33,children:"\u7CFB\u5217\u4F5C\u54C1 - \u77ED\u89C6\u9891(\u5C0F\u4E8E10\u5206\u949F)"},33),(0,e.jsx)(t.Z.Option,{"data-inspector-line":"74","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",value:34,children:"\u7CFB\u5217\u4F5C\u54C1 - \u957F\u89C6\u9891(\u5927\u4E8E10\u5206\u949F)"},34)]},3)]})}),(0,e.jsx)(n.Z.Item,{"data-inspector-line":"78","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",name:"tjdwTag",label:"\u673A\u6784\u7C7B\u578B",children:(0,e.jsx)(F.Z,{"data-inspector-line":"81","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",style:{width:400},disabled:!0})}),(0,e.jsx)(n.Z.Item,{"data-inspector-line":"83","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",name:"tjdw",label:"\u63A8\u8350\u5355\u4F4D",children:(0,e.jsx)(F.Z,{"data-inspector-line":"86","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",style:{width:400},disabled:!0})}),(0,e.jsx)(n.Z.Item,{"data-inspector-line":"89","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",name:"mediaName",label:"\u520A\u64AD\u5A92\u4F53/\u51FA\u7248\u793E",children:(0,e.jsx)(F.Z,{"data-inspector-line":"92","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",style:{width:400},disabled:!0})}),(0,e.jsx)(n.Z.Item,{"data-inspector-line":"94","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",name:"subMediaName",label:"\u7248\u9762/\u680F\u76EE/ISBN\u7F16\u53F7",children:(0,e.jsx)(F.Z,{"data-inspector-line":"97","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",style:{width:400},disabled:!0})}),(0,e.jsx)(n.Z.Item,{"data-inspector-line":"99","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",name:"mediaPlayDate",label:"\u9996\u6B21\u520A\u64AD/\u520A\u767B/\u51FA\u7248\u65F6\u95F4",children:(0,e.jsx)(ie.Z,{"data-inspector-line":"102","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",placeholder:"\u520A\u64AD\u65E5\u671F",disabled:!0})}),(0,e.jsx)(n.Z.Item,{"data-inspector-line":"104","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",name:"mediaPlayTimes",label:"\u6700\u9AD8\u9605\u8BFB/\u64AD\u653E\u91CF/\u53D1\u884C\u91CF(\u4E07)",children:(0,e.jsx)(ne.Z,{"data-inspector-line":"107","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",placeholder:"\u64AD\u653E\u91CF",disabled:!0})}),(0,e.jsx)(n.Z.Item,{"data-inspector-line":"109","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",name:"mediaLink",label:"\u4F5C\u54C1\u94FE\u63A5",children:(0,e.jsx)(F.Z,{"data-inspector-line":"112","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",style:{width:400},disabled:!0})}),(0,e.jsx)(n.Z.Item,{"data-inspector-line":"114","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",name:"worksLink",label:"\u76F8\u5173\u4F50\u8BC1\u6750\u6599",children:T()}),(0,e.jsx)(n.Z.Item,{"data-inspector-line":"119","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",name:"worksLink",label:"\u63A8\u8350\u8868",children:I()}),(0,e.jsx)(le.Z,{"data-inspector-line":"124","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",prizeList:c.prizeList?c.prizeList:[],onChangePrize:function(g){return c.prizeList=g},onDeletePrize:function(g){return c.prizeList=g},disabled:!0}),(0,e.jsx)(ue.Z,{"data-inspector-line":"129","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",subsidizeList:c.subsidizeList?c.subsidizeList:[],onChangeSubsidize:function(g){return c.subsidizeList=g},onDeleteSubsidize:function(g){return c.subsidizeList=g},disabled:!0}),(0,e.jsxs)(se.Z,{"data-inspector-line":"134","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",title:"\u7533\u62A5\u9879\u76EE\u60C5\u51B5",bordered:!1,style:{width:"100%"},children:[(0,e.jsx)(n.Z.Item,{"data-inspector-line":"135","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",name:"projectBrief",label:"\u9879\u76EE\u7EFC\u8FF0",labelCol:4,wrapperCol:20,children:(0,e.jsx)(F.Z.TextArea,{"data-inspector-line":"136","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",showCount:!0,rows:6,maxLength:500,placeholder:"\u8BF7\u9AD8\u5EA6\u6982\u62EC\u7533\u62A5\u9879\u76EE\u54C1\u724C\u7684\u5185\u5BB9\u3001\u4EAE\u70B9\u7279\u8272\u53CA\u793E\u4F1A\u5F71\u54CD\u7B49",disabled:!0})}),(0,e.jsx)(n.Z.Item,{"data-inspector-line":"143","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",name:"projectDesc",label:"\u9879\u76EE\u4ECB\u7ECD",labelCol:4,wrapperCol:20,children:(0,e.jsx)(F.Z.TextArea,{"data-inspector-line":"144","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",showCount:!0,rows:14,maxLength:2e3,placeholder:"\u8BF7\u8BE6\u7EC6\u8BF4\u660E\u79D1\u666E\u54C1\u724C\u7684\u80CC\u666F\u3001\u5185\u5BB9\u3001\u6210\u679C\u5B9E\u65BD\u3001\u5E94\u7528\u548C\u666E\u53CA\u60C5\u51B5\uFF0C\u4EA7\u751F\u7684\u793E\u4F1A\u6548\u76CA\u53CA\u8D21\u732E\u7B49",disabled:!0})})]})]})};(0,M.useEffect)(function(){o.editObj!==c&&(b.resetFields(),b.setFieldsValue(o.editObj),w(o.editObj))});var T=function(){if(c!=null&&c.fileUrl){var x=c.fileUrl.replace(/\\/g,"/").split("/WorksFiles/");return(0,e.jsx)("a",{"data-inspector-line":"173","data-inspector-column":"13","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",href:"http://workscollect.shbxjk.cn/WorksFiles/"+x[1],target:"_blank",children:"\u70B9\u51FB\u67E5\u770B"})}return(0,e.jsx)(e.Fragment,{})},I=function(){if(c!=null&&c.reccFormFileUrl){var x=c.reccFormFileUrl.replace(/\\/g,"/").split("/WorksReccForm/");return(0,e.jsx)("a",{"data-inspector-line":"182","data-inspector-column":"13","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",href:"http://workscollect.shbxjk.cn/WorksReccForm/"+x[1],target:"_blank",children:"\u70B9\u51FB\u67E5\u770B"})}return(0,e.jsx)("h4",{"data-inspector-line":"184","data-inspector-column":"11","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",style:{color:"red"},children:"\u7533\u62A5\u5355\u4F4D\u672A\u63D0\u4EA4\u63A8\u8350\u8868"})},V=function(){var d=(0,O.Z)(k().mark(function x(){var g,A;return k().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=0,f.next=3,(0,Z.Pl)(c.id);case 3:g=f.sent,g?(status==0?S.default.success({message:"\u8BB0\u5F55\u56DE\u9000\u6210\u529F - "+c.title,duration:0}):S.default.error({message:"\u63D0\u4EA4\u5931\u8D25. \u72B6\u6001"+status}),b.resetFields(),o.onReturn()):S.default.error({message:"\u63D0\u4EA4\u5931\u8D25."}),f.next=10;break;case 7:f.prev=7,f.t0=f.catch(0),S.default.error({message:"\u63D0\u4EA4\u5931\u8D25. \u9519\u8BEF: "+(f.t0===null||f.t0===void 0||(A=f.t0.info)===null||A===void 0?void 0:A.message)});case 10:case"end":return f.stop()}},x,null,[[0,7]])}));return function(){return d.apply(this,arguments)}}();(0,M.useEffect)((0,O.Z)(k().mark(function d(){var x,g;return k().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(o.editObj===c){p.next=9;break}if(b.resetFields(),b.setFieldsValue(o.editObj),!((x=o.editObj)!==null&&x!==void 0&&x.id)){p.next=8;break}return p.next=6,(0,Z.TC)(o.editObj.id);case 6:g=p.sent,b.setFieldsValue({tjdwTag:g.orgTypeName,tjdw:g.name});case 8:w(o.editObj);case 9:case"end":return p.stop()}},d)})));var R=function(){w({}),o.onCancel()};return(0,e.jsx)(re.Z,{"data-inspector-line":"238","data-inspector-column":"4","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",title:o.modalTitle,getContainer:!1,centered:!0,destroyOnClose:!0,maskClosable:!1,visible:o.visible,closable:!1,footer:[(0,e.jsx)(y.Z,{"data-inspector-line":"247","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",onClick:R,children:"\u5173\u95ED"},"cancel"),(0,e.jsx)(Y.Z,{"data-inspector-line":"250","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",onConfirm:function(){return V()},title:"\u786E\u8BA4\u9000\u56DE\u8BE5\u8BB0\u5F55\u7ED9\u539F\u6709\u7533\u62A5\u5E10\u6237\u4E48\uFF1F",children:(0,e.jsx)(y.Z,{"data-inspector-line":"254","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\component\\ViewModal.jsx",children:"\u9000\u56DE"},"cancel")},"return")],width:1e3,children:L()})},we=be,Be=function(){var o=(0,M.useState)([]),G=(0,W.Z)(o,2),H=G[0],b=G[1],N=(0,M.useState)(!1),E=(0,W.Z)(N,2),c=E[0],w=E[1],L=(0,M.useState)(!1),T=(0,W.Z)(L,2),I=T[0],V=T[1],R=(0,M.useState)(!1),d=(0,W.Z)(R,2),x=d[0],g=d[1],A=(0,M.useState)(),p=(0,W.Z)(A,2),f=p[0],J=p[1],ee=(0,M.useState)({}),Q=(0,W.Z)(ee,2),U=Q[0],$=Q[1],C=(0,M.useState)([]),h=(0,W.Z)(C,2),u=h[0],z=h[1],D=[{title:"ID",dataIndex:"id",width:100,hideInTable:!0,hideInSearch:!0},{title:"\u6807\u9898",dataIndex:"title",width:200,hideInSearch:!0},{title:"\u4F5C\u8005",dataIndex:"poster",width:200},{title:"\u7C7B\u522B",dataIndex:"type",width:300,valueType:"select",renderText:function(r){for(var s=0;s<u.length;s++)if(u[s].value==r)return u[s].name;return r},renderFormItem:function(){return(0,e.jsxs)(t.Z,{"data-inspector-line":"62","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",style:{width:300},children:[(0,e.jsxs)(t.Z.OptGroup,{"data-inspector-line":"63","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",label:"\u56FE\u6587\u7C7B",children:[(0,e.jsx)(t.Z.Option,{"data-inspector-line":"64","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",value:"11",children:"\u79D1\u666E\u6587\u7AE0"},11),(0,e.jsx)(t.Z.Option,{"data-inspector-line":"65","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",value:"12",children:"\u6F2B\u753B"},12),(0,e.jsx)(t.Z.Option,{"data-inspector-line":"66","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",value:"13",children:"\u6D77\u62A5\u6298\u9875"},13),(0,e.jsx)(t.Z.Option,{"data-inspector-line":"67","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",value:"14",children:"\u5176\u5B83"},14)]},1),(0,e.jsx)(t.Z.OptGroup,{"data-inspector-line":"69","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",label:"\u56FE\u4E66\u7C7B",children:(0,e.jsx)(t.Z.Option,{"data-inspector-line":"70","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",value:41,children:"\u56FE\u4E66\u7C7B"},41)},1),(0,e.jsxs)(t.Z.OptGroup,{"data-inspector-line":"72","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",label:"\u97F3\u9891\u7C7B",children:[(0,e.jsx)(t.Z.Option,{"data-inspector-line":"73","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",value:"21",children:"\u4E13\u9898\u97F3\u9891"},21),(0,e.jsx)(t.Z.Option,{"data-inspector-line":"74","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",value:"22",children:"\u5E7F\u64AD\u5267"},22),(0,e.jsx)(t.Z.Option,{"data-inspector-line":"75","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",value:"23",children:"\u6709\u58F0\u4E66"},23),(0,e.jsx)(t.Z.Option,{"data-inspector-line":"76","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",value:"24",children:"\u5176\u4ED6"},24)]},2),(0,e.jsxs)(t.Z.OptGroup,{"data-inspector-line":"78","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",label:"\u89C6\u9891\u7C7B",children:[(0,e.jsx)(t.Z.Option,{"data-inspector-line":"79","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",value:"31",children:"\u5355\u96C6\u4F5C\u54C1 - \u77ED\u89C6\u9891(\u5C0F\u4E8E10\u5206\u949F)"},31),(0,e.jsx)(t.Z.Option,{"data-inspector-line":"80","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",value:"32",children:"\u5355\u96C6\u4F5C\u54C1 - \u957F\u89C6\u9891(\u5927\u4E8E10\u5206\u949F)"},32),(0,e.jsx)(t.Z.Option,{"data-inspector-line":"81","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",value:"33",children:"\u7CFB\u5217\u4F5C\u54C1 - \u77ED\u89C6\u9891(\u5C0F\u4E8E10\u5206\u949F)"},33),(0,e.jsx)(t.Z.Option,{"data-inspector-line":"82","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",value:"34",children:"\u7CFB\u5217\u4F5C\u54C1 - \u957F\u89C6\u9891(\u5927\u4E8E10\u5206\u949F)"},34)]},3)]})}},{title:"\u5236\u4F5C\u5355\u4F4D",dataIndex:"vendor",search:!1,width:200},{title:"\u63A8\u8350\u5355\u4F4D",dataIndex:"tjdw",width:200,hideInTable:!0,hideInSearch:!0,renderFormItem:function(){return(0,e.jsx)(t.Z,{"data-inspector-line":"102","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",style:{width:200},children:H.map(function(r){return(0,e.jsx)(t.Z.Option,{"data-inspector-line":"104","data-inspector-column":"21","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",value:r.id,children:r.name},r.id)})})}},{title:"\u64CD\u4F5C",width:180,key:"option",valueType:"option",render:function(r,s){return K(s)}}],P=(0,M.useRef)(),K=function(r){var s;return((s=X.currentUser)===null||s===void 0?void 0:s.type)!==3?(0,e.jsx)("a",{"data-inspector-line":"123","data-inspector-column":"13","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",onClick:function(){return Oe(r)},children:"\u67E5\u770B"},"primary"):r.status===0?(0,e.jsx)("a",{"data-inspector-line":"125","data-inspector-column":"13","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",onClick:function(){return ye(r)},children:"\u4FEE\u6539\u8349\u7A3F"},"primary"):[(0,e.jsx)("a",{"data-inspector-line":"128","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",href:"http://wcserver.shbxjk.cn"+Z.co+"works/"+r.id,children:"\u6253\u5370\u63A8\u8350\u8868"},"primary"),(0,e.jsx)("a",{"data-inspector-line":"130","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",id:"upload_link",onClick:function(j){return pe(j,r)},children:"\u4E0A\u4F20\u63A8\u8350\u8868"},"primary"),(0,e.jsx)(_.Z,{"data-inspector-line":"131","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",ref:P},"uploadreccform")]},pe=function(r,s){$(s),V(!0)},i=function(){var l=(0,O.Z)(k().mark(function r(){var s,m;return k().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(((s=X.currentUser)===null||s===void 0?void 0:s.type)===3){v.next=3;break}return B.default.error("\u8BF7\u4F7F\u7528\u7533\u62A5\u5355\u4F4D\u5E10\u53F7\u63D0\u4EA4"),v.abrupt("return");case 3:return v.next=5,he({current:1,pageSize:1});case 5:if(m=v.sent,!(m&&m.data&&m.data.length>0)){v.next=9;break}return B.default.error("\u6BCF\u4E2A\u5E10\u53F7\u53EA\u53EF\u4EE5\u7533\u62A5\u4E00\u4E2A\u8BB0\u5F55."),v.abrupt("return");case 9:J("\u4E0A\u4F20\u4F5C\u54C1"),$({}),w(!0);case 12:case"end":return v.stop()}},r)}));return function(){return l.apply(this,arguments)}}(),De=function(){var l=(0,O.Z)(k().mark(function r(){var s,m,j;return k().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:s="http://wcserver.shbxjk.cn"+Z.Yu,m=document.createElement("a"),j=document.createEvent("MouseEvents"),m.style.display="none",m.href=s,document.body.append(m),j.initEvent("click",!1,!1),m.dispatchEvent(j),document.body.removeChild(m);case 9:case"end":return te.stop()}},r)}));return function(){return l.apply(this,arguments)}}(),ye=function(r){r.mediaPlayDate&&(r.mediaPlayDate=ce()(r.mediaPlayDate)),$(r),J("\u7F16\u8F91\u8349\u7A3F"),w(!0)},Oe=function(r){r.mediaPlayDate&&(r.mediaPlayDate=ce()(r.mediaPlayDate)),$(r),g(!0)},Ve=function(){V(!1),q.current.reload()},Se=function(){q.current.reload(),w(!1)},Ie=function(){q.current.reload(),g(!1)};(0,M.useEffect)((0,O.Z)(k().mark(function l(){var r,s;return k().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,(0,Z.T8)({current:1,pageSize:1e3});case 2:r=j.sent,s=[],r.data.map(function(v){v.type===2&&s.push(v),b(s)});case 5:case"end":return j.stop()}},l)})),[]),(0,M.useEffect)((0,O.Z)(k().mark(function l(){var r,s;return k().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,(0,Z.zP)();case 2:r=j.sent,s=r.filter(function(v){return v.type==="work_type"}),z(s);case 5:case"end":return j.stop()}},l)})),[]);var q=(0,M.useRef)(),me=(0,Fe.tT)("@@initialState"),X=me.initialState,qe=me.setInitialState,he=function(){var l=(0,O.Z)(k().mark(function r(s){var m;return k().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,Z.d)(s);case 2:return m=v.sent,v.abrupt("return",m);case 4:case"end":return v.stop()}},r)}));return function(s){return l.apply(this,arguments)}}(),ze=function(){var r,s,m;if(((r=X.currentUser)===null||r===void 0?void 0:r.type)===3)return[(0,e.jsxs)(y.Z,{"data-inspector-line":"234","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",type:"primary",onClick:function(){return i()},children:[(0,e.jsx)(xe.Z,{"data-inspector-line":"235","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx"})," \u4E0A\u4F20\u4F5C\u54C1"]},"add")];if(((s=X.currentUser)===null||s===void 0?void 0:s.type)===1)return[(0,e.jsxs)(y.Z,{"data-inspector-line":"240","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",type:"primary",disabled:((m=X.currentUser)===null||m===void 0?void 0:m.type)!==1,onClick:function(){return De()},children:[(0,e.jsx)(Me.Z,{"data-inspector-line":"243","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx"})," \u5BFC\u51FA"]},"export")]};return(0,e.jsxs)(ge.ZP,{"data-inspector-line":"249","data-inspector-column":"4","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",children:[(0,e.jsx)(je.ZP,{"data-inspector-line":"250","data-inspector-column":"6","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",rowKey:"id",actionRef:q,search:{labelWidth:120,collapsed:!1},toolBarRender:ze,request:function(r){return he(r)},columns:D}),(0,e.jsx)(We,{"data-inspector-line":"261","data-inspector-column":"6","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",onCancel:function(){return w(!1)},closeModal:function(){return w(!1)},onSaveFinish:Se,modalTitle:f,editObj:U,visible:c}),(0,e.jsx)(Ze.Z,{"data-inspector-line":"268","data-inspector-column":"6","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",onCancel:function(){return V(!1)},closeModal:function(){return V(!1)},onUploadFinish:function(){return Ve()},editObj:U,modalTitle:U.title,objectType:"works",visible:I}),(0,e.jsx)(we,{"data-inspector-line":"276","data-inspector-column":"6","data-inspector-relative-path":"src\\pages\\WorksMgmt\\index.jsx",onCancel:function(){return g(!1)},closeModal:function(){return g(!1)},editObj:U,onReturn:Ie,visible:x})]})},Ae=Be}}]);
